/* style.css */

/* Define base variables (Defaulting to Light Theme) */
:root {
  --app-bg-color: #ffffff;
  --app-text-color: #212529;
  --app-muted-text-color: #6c757d;
  --app-border-color: #dee2e6;
  --app-primary-color: #0d6efd; /* Bootstrap Blue */
  --app-primary-text-color: #ffffff;
  --app-secondary-color: #6c757d; /* Bootstrap Gray */
  --app-secondary-text-color: #ffffff;
  --app-info-color: #0dcaf0;     /* Bootstrap Cyan */
  --app-info-text-color: #000000;
  --app-success-color: #198754; /* Bootstrap Green */
  --app-success-text-color: #ffffff;
  --app-danger-color: #dc3545; /* Bootstrap Red */
  --app-danger-text-color: #ffffff;
  --app-link-color: #0d6efd;

  --task-item-bg: #ffffff;
  --task-item-border: #dee2e6;
  --task-completed-text-color: #6c757d;
  --task-completed-bg-color: #f8f9fa; /* Light gray */

  --input-bg: #ffffff;
  --input-border: #ced4da;
  --input-text: #495057;

  --modal-bg: #ffffff;
  --modal-header-border: #dee2e6;
  --modal-footer-border: #dee2e6;

  /* Add transition for smoother theme changes */
  --theme-transition-duration: 0.3s;
}

/* Dark Theme Overrides */
html[data-theme="dark"] {
  --app-bg-color: #212529;
  --app-text-color: #dee2e6;
  --app-muted-text-color: #adb5bd;
  --app-border-color: #495057;
  --app-primary-color: #0d6efd; /* Keep primary, maybe adjust? */
  --app-link-color: #6ea8fe; /* Lighter blue for links */

  --task-item-bg: #343a40;
  --task-item-border: #495057;
  --task-completed-text-color: #6c757d;
  --task-completed-bg-color: #2b3035; /* Darker gray */

  --input-bg: #343a40;
  --input-border: #6c757d;
  --input-text: #dee2e6;

  --modal-bg: #2b3035;
  --modal-header-border: #495057;
  --modal-footer-border: #495057;
  /* Override Bootstrap's dark theme defaults if needed */
  color-scheme: dark;
}

/* Forest Theme Overrides (Dark Based) */
html[data-theme="forest"] {
  --app-bg-color: #2f3e2a; /* Dark forest green */
  --app-text-color: #e8e4d9; /* Off-white / light beige */
  --app-muted-text-color: #a0a8a2; /* Muted green/gray */
  --app-border-color: #53634f; /* Darker green */
  --app-primary-color: #8fbc8f; /* DarkSeaGreen (can adjust) */
  --app-primary-text-color: #1a2417; /* Dark green text on primary */
  --app-secondary-color: #a0522d; /* Sienna Brown */
  --app-secondary-text-color: #e8e4d9;
  --app-info-color: #add8e6;    /* Light blue for contrast? */
  --app-info-text-color: #1a2417;
  --app-success-color: #90ee90; /* Light green */
  --app-success-text-color: #1a2417;
  --app-danger-color: #cd5c5c; /* Indian red */
  --app-danger-text-color: #ffffff;
  --app-link-color: #98fb98; /* Pale Green link */

  --task-item-bg: #3e4f3a; /* Slightly lighter than main bg */
  --task-item-border: #53634f;
  --task-completed-text-color: #8f9e8b;
  --task-completed-bg-color: #2a3a26;

  --input-bg: #3e4f3a;
  --input-border: #53634f;
  --input-text: #e8e4d9;

  --modal-bg: #2a3a26;
  --modal-header-border: #53634f;
  --modal-footer-border: #53634f;
  color-scheme: dark; /* Indicate it's dark-based */
}

/* Ocean Theme Overrides (Light Based) */
html[data-theme="ocean"] {
  --app-bg-color: #e0f7fa; /* Very light cyan */
  --app-text-color: #004d40; /* Dark teal */
  --app-muted-text-color: #4db6ac; /* Medium teal/aqua */
  --app-border-color: #b2ebf2; /* Light cyan border */
  --app-primary-color: #00796b; /* Strong teal */
  --app-primary-text-color: #ffffff;
  --app-secondary-color: #fdd835; /* Yellow for sandy contrast */
  --app-secondary-text-color: #3e2723; /* Dark brown text */
  --app-info-color: #29b6f6;    /* Light blue */
  --app-info-text-color: #000000;
  --app-success-color: #4caf50; /* Standard green */
  --app-success-text-color: #ffffff;
  --app-danger-color: #e57373; /* Lighter red */
  --app-danger-text-color: #ffffff;
  --app-link-color: #006064; /* Darker cyan link */

  --task-item-bg: #ffffff;
  --task-item-border: #b2ebf2;
  --task-completed-text-color: #757575; /* Gray for completed */
  --task-completed-bg-color: #eeeeee;

  --input-bg: #ffffff;
  --input-border: #80deea; /* Cyan border */
  --input-text: #004d40;

  --modal-bg: #ffffff;
  --modal-header-border: #b2ebf2;
  --modal-footer-border: #b2ebf2;
  color-scheme: light; /* Indicate it's light-based */
}


/* Apply variables to elements */
body {
  background-color: var(--app-bg-color);
  color: var(--app-text-color);
  transition: background-color var(--theme-transition-duration) ease, color var(--theme-transition-duration) ease;
}

/* Basic Bootstrap component overrides using our variables */
.list-group-item {
  background-color: var(--task-item-bg);
  border-color: var(--task-item-border);
  color: var(--app-text-color); /* Ensure text color inherits */
   transition: background-color var(--theme-transition-duration) ease,
               border-color var(--theme-transition-duration) ease,
               color var(--theme-transition-duration) ease;
}

.task-completed .task-text {
  text-decoration: line-through;
  color: var(--task-completed-text-color);
  transition: color var(--theme-transition-duration) ease; /* Smooth strikethrough color */
}

.list-group-item.task-completed {
  background-color: var(--task-completed-bg-color);
}
/* style.css */

/* Add this somewhere appropriate, e.g., near .list-group-item or .task-item styles */

.task-item {
  /* Add a bottom margin to create space between items */
  margin-bottom: 0.5rem; /* Adjust value (e.g., 0.25rem, 0.75rem) as desired */
  /* Optional: Add subtle rounded corners? */
  /* border-radius: 0.375rem; */ /* Bootstrap's default card/input radius */
}

/* Remove margin from the very last item to prevent extra space at the end */
.task-item:last-child {
  margin-bottom: 0;
}

/* Optional: If you add border-radius, ensure borders are consistent */
/* If using border-radius, you might need this for single items */
.list-group:not(:empty) > .task-item:only-child {
   border-radius: 0.375rem;
}


/* Ensure existing list-group styles are maintained */
.list-group-item {
  /* Ensure text color inherits */
  background-color: var(--task-item-bg);
  border-color: var(--task-item-border);
  color: var(--app-text-color);
  transition: background-color var(--theme-transition-duration) ease,
              border-color var(--theme-transition-duration) ease,
              color var(--theme-transition-duration) ease;
}

/* --- Other styles remain the same --- */
/* Themes, animations, etc. */
.form-control {
  background-color: var(--input-bg);
  border-color: var(--input-border);
  color: var(--input-text);
  transition: background-color var(--theme-transition-duration) ease,
              border-color var(--theme-transition-duration) ease,
              color var(--theme-transition-duration) ease;
}
.form-control::placeholder {
   color: var(--app-muted-text-color);
   opacity: 0.8;
}

.btn-primary {
  --bs-btn-bg: var(--app-primary-color);
  --bs-btn-border-color: var(--app-primary-color);
  --bs-btn-hover-bg: color-mix(in srgb, var(--app-primary-color) 85%, #000);
  --bs-btn-hover-border-color: color-mix(in srgb, var(--app-primary-color) 80%, #000);
  --bs-btn-active-bg: color-mix(in srgb, var(--app-primary-color) 75%, #000);
  --bs-btn-active-border-color: color-mix(in srgb, var(--app-primary-color) 70%, #000);
  --bs-btn-color: var(--app-primary-text-color);
  --bs-btn-hover-color: var(--app-primary-text-color);
  --bs-btn-active-color: var(--app-primary-text-color);
  transition: background-color var(--theme-transition-duration) ease,
              border-color var(--theme-transition-duration) ease,
              color var(--theme-transition-duration) ease;
}

/* Repeat for other btn types (.btn-danger, .btn-success, .btn-info, .btn-secondary) */
.btn-success {
   --bs-btn-bg: var(--app-success-color); /* Use appropriate app variables */
   --bs-btn-border-color: var(--app-success-color);
   --bs-btn-color: var(--app-success-text-color);
   /* Add hover/active/text color vars as needed */
    transition: background-color var(--theme-transition-duration) ease,
              border-color var(--theme-transition-duration) ease,
              color var(--theme-transition-duration) ease;
}
.btn-danger {
   --bs-btn-bg: var(--app-danger-color);
   --bs-btn-border-color: var(--app-danger-color);
   --bs-btn-color: var(--app-danger-text-color);
    transition: background-color var(--theme-transition-duration) ease,
              border-color var(--theme-transition-duration) ease,
              color var(--theme-transition-duration) ease;
}
.btn-info {
  --bs-btn-bg: var(--app-info-color);
  --bs-btn-border-color: var(--app-info-color);
  --bs-btn-color: var(--app-info-text-color);
   transition: background-color var(--theme-transition-duration) ease,
             border-color var(--theme-transition-duration) ease,
             color var(--theme-transition-duration) ease;
}
.btn-secondary {
  --bs-btn-bg: var(--app-secondary-color);
  --bs-btn-border-color: var(--app-secondary-color);
  --bs-btn-color: var(--app-secondary-text-color);
   transition: background-color var(--theme-transition-duration) ease,
             border-color var(--theme-transition-duration) ease,
             color var(--theme-transition-duration) ease;
}
/* Style Outline buttons to use vars too */
.btn-outline-secondary {
   --bs-btn-color: var(--app-secondary-color);
   --bs-btn-border-color: var(--app-secondary-color);
   --bs-btn-hover-bg: var(--app-secondary-color);
   --bs-btn-hover-color: var(--app-secondary-text-color);
    transition: background-color var(--theme-transition-duration) ease,
              border-color var(--theme-transition-duration) ease,
              color var(--theme-transition-duration) ease;
}
.btn-outline-info { /* For Ask AI */
   --bs-btn-color: var(--app-info-color);
   --bs-btn-border-color: var(--app-info-color);
   --bs-btn-hover-bg: var(--app-info-color);
   --bs-btn-hover-color: var(--app-info-text-color);
    transition: background-color var(--theme-transition-duration) ease,
              border-color var(--theme-transition-duration) ease,
              color var(--theme-transition-duration) ease;
}
.btn-outline-danger { /* For Delete */
   --bs-btn-color: var(--app-danger-color);
   --bs-btn-border-color: var(--app-danger-color);
   --bs-btn-hover-bg: var(--app-danger-color);
   --bs-btn-hover-color: var(--app-danger-text-color);
    transition: background-color var(--theme-transition-duration) ease,
              border-color var(--theme-transition-duration) ease,
              color var(--theme-transition-duration) ease;
}

a {
  color: var(--app-link-color);
  transition: color var(--theme-transition-duration) ease;
}

.text-muted {
  color: var(--app-muted-text-color) !important; /* Override Bootstrap if necessary */
  transition: color var(--theme-transition-duration) ease;
}

/* Modal Styles */
.modal-content {
   background-color: var(--modal-bg);
   color: var(--app-text-color);
   border: 1px solid var(--app-border-color);
    transition: background-color var(--theme-transition-duration) ease,
               border-color var(--theme-transition-duration) ease,
               color var(--theme-transition-duration) ease;
}
.modal-header {
   border-bottom: 1px solid var(--modal-header-border);
   transition: border-color var(--theme-transition-duration) ease;
}
.modal-footer {
   border-top: 1px solid var(--modal-footer-border);
   transition: border-color var(--theme-transition-duration) ease;
}
.btn-close { /* Style close button based on theme */
   filter: invert(1); /* Apply invert filter for dark themes */
    transition: filter var(--theme-transition-duration) ease;
}
html[data-theme="dark"] .btn-close,
html[data-theme="forest"] .btn-close {
    filter: invert(1) grayscale(100%) brightness(200%);
}


/* Include existing fade animations etc. */
@keyframes fadeIn { /* ... */ }
.task-fade-in {
  animation: fadeIn 0.5s ease-in-out;
}
@keyframes fadeOut { /* ... */ }
.task-fade-out {
  animation: fadeOut 0.5s ease-in-out;
}

/* Add other styles as needed */

/* style.css */

/* Existing styles for .task-item, margins etc */
.task-item {
  margin-bottom: 0.5rem; /* Keep the space between items */
  /* Optional border-radius */

   /* Add overall gap for main flex items (text-container vs button-group) */
   gap: 1rem; /* Adjust as needed (e.g., 0.75rem) */
}
.task-item:last-child { margin-bottom: 0; }


/* Target the inner container for checkbox-to-text gap */
.task-content-container {
  /* Add gap between checkbox and text label */
  gap: 0.5rem; /* Adjust as needed (e.g., 0.375rem, maybe matches me-2?) */
}

/* NOTE: .btn-group already adds spacing between buttons, so we don't need gap there */


/* --- Other styles remain the same --- */

/* style.css */

/* Add near the end or with other component styles */

#noTasksMessage {
  /* Ensure background and text color respect theme */
  background-color: var(--task-item-bg); /* Match task background */
  border: 1px dashed var(--app-border-color); /* Subtle dashed border */
  transition: background-color var(--theme-transition-duration) ease,
              border-color var(--theme-transition-duration) ease;
  opacity: 0.85; /* Slightly faded look */
}

#noTasksMessage i.bi-card-checklist {
  /* Replaces inline style if preferred, ensures transition */
  font-size: 4rem;
  color: var(--app-secondary-color);
  transition: color var(--theme-transition-duration) ease;
}

#noTasksMessage h5 {
   color: var(--app-text-color); /* Use main text color */
   font-weight: 500; /* Slightly bolder than normal */
   transition: color var(--theme-transition-duration) ease;
}

#noTasksMessage p.text-muted {
  /* text-muted already uses --app-muted-text-color via Bootstrap vars, */
  /* but explicit transition is good */
   transition: color var(--theme-transition-duration) ease;
   font-size: 0.95rem; /* Slightly smaller */
}


/* --- Other styles remain the same --- */